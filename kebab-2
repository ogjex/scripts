#!/usr/bin/env bash

# first let us outline all of the different functions necessary for the program to run
usage() {
	echo -e 'Usage: kebab [OPTIONS] [FILES or DIRECTORY]...\n\n'
        echo -e 'Arguments:\n   [FILES or DIRECTORY]... The files to rename or the directory to search through (eg. '*.filetype', '*', or '~/some-directory')\n'
        echo -e 'Options:'
        echo -e '   -h\n      Get this help output'
        echo -e '   -r\n      Recursively search through selected directory depth first'
        
}
# check_files()
# set_rename_pattern()
# dry_run()
# rename_file()
rename_file(){
    echo "renamed: $1"
}

rename_recursively(){
    # check that only one argument is provided
    if [[ $# -ne 1 ]]; then
        echo "Illegal number of parameters: $#" >&2
        exit 2
    fi
    # do something
    echo "renamed directory recursively: $1"
}

while getopts 'hr' opt; do
    # shift removes the first argument which is the option part of the script
    shift $((OPTIND - 1))
	case "$opt" in
		h) usage; exit 0;;
		r) rename_recursively $@; exit 0;;
	 	*) usage >&2; exit 1;;
	esac
done

rename_file $@
